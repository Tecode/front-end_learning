# 8、存储管理

## 查看磁盘信息

### `ll /dev/sd*`
```shell script
[root@localhost tmp]# ll /dev/sd*
brw-rw----. 1 root disk 8, 0 Dec  2 21:41 /dev/sda
brw-rw----. 1 root disk 8, 1 Dec  2 21:41 /dev/sda1
brw-rw----. 1 root disk 8, 2 Dec  2 21:41 /dev/sda2

```

### `lsblk`

```shell script
[root@localhost tmp]# lsblk 
NAME        MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT
sda           8:0    0   20G  0 disk 
├─sda1        8:1    0    1G  0 part /boot
└─sda2        8:2    0   19G  0 part 
  ├─cs-root 253:0    0   17G  0 lvm  /
  └─cs-swap 253:1    0    2G  0 lvm  [SWAP]
sr0          11:0    1  788M  0 rom  /run/media/root/CentOS-Stream-8-x86_64-dvd
```

## 创建分区

### `fsisk`

```shell script
[root@localhost tmp]# fdisk /dev/sda2 

Welcome to fdisk (util-linux 2.32.1).
Changes will remain in memory only, until you decide to write them.
Be careful before using the write command.

The old LVM2_member signature will be removed by a write command.

Device does not contain a recognized partition table.
Created a new DOS disklabel with disk identifier 0x1aa9f55c.

Command (m for help): m

Help:

  DOS (MBR)
   a   toggle a bootable flag
   b   edit nested BSD disklabel
   c   toggle the dos compatibility flag

  Generic
   d   delete a partition
   F   list free unpartitioned space
   l   list known partition types
   n   add a new partition
   p   print the partition table
   t   change a partition type
   v   verify the partition table
   i   print information about a partition

  Misc
   m   print this menu
   u   change display/entry units
   x   extra functionality (experts only)

  Script
   I   load disk layout from sfdisk script file
   O   dump disk layout to sfdisk script file

  Save & Exit
   w   write table to disk and exit
   q   quit without saving changes

  Create a new label
   g   create a new empty GPT partition table
   G   create a new empty SGI (IRIX) partition table
   o   create a new empty DOS partition table
   s   create a new empty Sun partition table

```

## 刷新分区

```shell script
[root@localhost tmp]# partprobe /dev/sda2
```

## 查看分区

```shell script
[root@localhost tmp]# fdisk /dev/sda2 -l
Disk /dev/sda2: 19 GiB, 20400046080 bytes, 39843840 sectors
Units: sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes

```